

<details>
  <summary>Что такое протокол IP?</summary>

IP (Internet Protocol) - протокол сетевого уровня стека TCP/IP.

Основной задачей протокола является доставка датаграмм между хостами сетей TCP/IP через произвольное число промежуточных узлов (маршрутизаторов).

Функции, реализуемые IP:
- Основа передачи данных.
- Адресация.
- Маршрутизация.
- Фрагментация датаграмм.
Протокол IP не гарантирует надежной доставки пакета: пакеты могут прийти в неправильном порядке, пакет может быть утерян, пакет может продублироваться или оказаться поврежденным. За надежность доставки пакетов отвечают протоколы транспортного уровня.

На данный момент наиболее распространена четвертая версия протокола (IPv4), однако ведутся активные работы по внедрению более совершенного IPv6.

</details>

<details>
  <summary>Сколько адресов в следующих подсетях?</summary>
  
  `2^(32-N)-2`, где 
  - N маска: `/24`, `/23`, `/19`;
  - 32 бит в маске;
  - `-2` зарезервированных адреса: 1 адрес сети и 1 broadcast.

  **Следовательно:**
  
  сеть             | математика    | ответ
  -----------------|---------------|-------------
  192.168.5.0/`24` | 2^(32-`24`)-2 | = 254 хостов
  192.168.5.0/`23` | 2^(32-`23`)-2 | = 510 хостов 
  192.168.5.0/`19` | 2^(32-`19`)-2 | = 8190 хостов

</details>

```
192.168.5.0/24
192.168.5.0/23
192.168.5.0/19
```

<details>
  <summary>Что такое 127.0.0.1 адрес? Для чего нужен?</summary>

127.0.0.1 адрес или localhost доменное имя, а также зарезервированная сеть 127.0.0.1/8 частных IP адресов предназначены для тестирования программы на той же физической машине, где она запускается.

Использование адреса 127.0.0.1 позволяет устанавливать соединение и передавать информацию для программ-серверов, работающих на том же компьютере, что и программа-клиент, независимо от конфигурации аппаратных сетевых средств компьютера (не требуется сетевая карта, модем, и прочее коммуникационное оборудование, интерфейс реализуется при помощи драйвера псевдоустройства в ядре операционной системы)

Так же адрес 127.0.0.1 устанавливается для запрета доступа к сервису из внешней сети. Например: 
```
docker run -d -p 127.0.0.1:3306:3306 mysql
```

</details>

<details>
  <summary>Что такое прокси? Как он работает? Для чего он нам нужен?</summary>
Прокси-сервер действует как шлюз между вами и Интернетом. Это сервер-посредник, отделяющий конечных пользователей от веб-сайтов, которые они просматривают.

Если вы используете прокси-сервер, интернет-трафик проходит через прокси-сервер на пути к запрошенному вами адресу. Затем запрос возвращается через тот же прокси-сервер (из этого правила есть исключения), и затем прокси-сервер пересылает вам данные, полученные с веб-сайта.

Прокси-серверы обеспечивают различные уровни функциональности, безопасности и конфиденциальности в зависимости от вашего варианта использования, потребностей или политики компании.


</details>

<details>
  <summary>Что такое NAT</summary>
NAT расшифровывается как преобразование сетевых адресов. Это способ сопоставления нескольких локальных частных адресов с общедоступным перед передачей информации. Организации, которые хотят, чтобы несколько устройств использовали один IP-адрес, используют NAT, как и большинство домашних маршрутизаторов.
Например, частным IP-адресом вашего компьютера может быть 192.168.1.100, но ваш маршрутизатор сопоставляет трафик со своим общедоступным IP-адресом (например, 1.1.1.1). Любое устройство в Интернете увидит трафик, поступающий с вашего общедоступного IP (1.1.1.1) вместо вашего частного IP (192.168.1.100).

</details>

<details>
  <summary>Вы вводите в строке браузера yandex.ru. Опишите процесс от нажатия клавиши до загрузки страницы.</summary>

![](imgs/example-request.jpg)

Любой URL содержит следующую структуру `<протокол>/<хост>/путь`, например `https://yandex.ru/pogoda/samara`. Также URL может содержать данные для отображения страницы.

1. При вводе URL браузер смотрит на протокол запроса. Если протокол в URL не указан, то браузер смотрит на список HSTS (HTTP Strict Transport Security - механизм, принудительно активирующий защищенное соединение через протокол HTTPS), если хост есть в данном списке, то браузер отправит запрос по протоколу HTTPS, если нет, то по HTTP.

2. Для того, чтобы установить соединение с сервером, необходим его IP адрес. Так как мы используем домен, то необходимо установить соответствие домена и IP адреса сервера, где размещается ресурс. При запросе мы обращаемся к DNS. Cначала проверяется кеш DNS. Приоритет опроса DNS кеша следующий:
 - Кеш браузера,
 - Проверяется hosts файл ,
 - Кеш ОС,
 - Кеш роутера,
 - Кеш интернет-провайдера
Если данных о данном запрашиваеомом хосте в кеше нет, то:
 - DNS интернет провайдера отправляет запрос к контевому серверу DNS (.),
 - Если корневой сервер не знает запрашиваемого домена, то он отправляет запрос серверу ответственному за зону (.ru), в которому привязан домен,
 - Если DNS сервер зоны не знает запрашиваемого домена, то запрос отправляется к NS серверу домена.
IP адрес хоста, при его наличии у DNS сервера, возвращается обратно по цепочке

3. После того, как IP адрес хоста получили, необходимо сформировать на прикладном уровне запрос к серверу. К запросу добавляются следующие заголовки:
 - Прикладной уровень: протокол запроса (HTTP/S, FTP и т.д),
 - Транспортный (TCP/UDP): порт, по которому обращаемся к серверу.
 - Сетевой уровень: IP адрес пакета
 - Канальный уровень: определяет есть ли такой адрес в сети. Если нет, то пакет передаётся шлюзу. Устройство шлюза проверяет свою таблицу маршрутизации и направляет пакет в нужном направлении.

4. Далее выполняется следующий алгоритм действий установления соединения:
 - После того, как запрос достиг сервера, клиент отправляет клиенту запрос (client hello) и свою версию протокола TLS на защищенное соединение. 
 - Сервер отвечает клиенту (server hello) с информацией о выбранной версии TLS, методом шифрования, методом компресии и публичный сертификат сервера, подписанный центром сертификации. Сертификат содержит публичный ключ, который будет использован клиентом для шифрования данных. 
 - Клиент подтверждает сертификат сервера с помощью своего списка центров сертификации. Если сертификат подписан центром из списка, то серверу можно доверять.
 - Клиент шифрует данные публичным ключем и отправляет серверу зашифрованное сообщение.
 - Сервер расшифровывает сообщение с помощью своего приватного ключа и генерирует симметричный мастер-ключ и отправляет его клиенту.
 - Клиент отправляет серверу сообщение о финише, шифруя хэш передачи с помощью симметричного ключа.
 - Сервер генерирует собственный хеш, а затем расшифровывает полученный от клиента хэш, чтобы проверить совпадает ли хэш клиента с хэшом сервера. Если совпадение обнаружено, то сервер отправляет клиенту сообщение о финише. 

После этого защищенное соединение с сервером установлено.

5. Далее необходимо сформировать запрос серверу:
 - Клиент формирует запрос HTTP, в котором участвует метод (например GET), URL и версию протокола. Например `GET /pogoda/samara HTTP/2`.
 - Следующий заголовок клиента HOST, в котором указывается к какому хосту необходимо обратиться. Например `HOST: yandex.ru`. По заголовку HOST сервер может определить к какому сайту на сервере необходимо обратиться.
 - Запрос может также содержать и другие заголовки. Необходимо только, чтобы сервер смог понять эти заголовки.

</details>



<details>
  <summary>Чем отличается TCP от UDP? Что лучше?</summary>

Я бы пошутил про UDP, но боюсь до вас не дойдет, а если не дойдет шутка про TCP то я еще раз повторю!

TCP – транспортный протокол передачи данных в сетях TCP/IP, предназначен для управления передачей данных интернета. Пакеты в TCP называются сегментами.
Ориентирован на соединение, используется для передачи данных (электронная почта, файлы, сообщения). При определении потери пакетов будет выполнен перезапрос потерянных пакетов.

UDP – транспортный протокол, передающий сообщения-датаграммы без необходимости установки соединения в IP-сети. Не ориентирован на установление соединения, используется в потоковой передаче данных (IPTV, VoIP). При потере пакетов перезапроса потерянных пакетов не происходит.

Нельзя сказать, что TCP лучше UDP, т.к. данные транспортные протоколы используются для различных типов передачи трафика.


</details>



<details>
  <summary>Как происходит соединение TCP?</summary>

![TCP_Handshake](imgs/tcp-connection.png)

1. Клиент, который намеревается установить соединение, посылает серверу сегмент с номером последовательности и флагом SYN.
Дальнейший алгоритм:
Сервер получает сегмент, запоминает номер последовательности и пытается создать сокет (буферы и управляющие структуры памяти) для обслуживания нового клиента;
В случае успеха сервер посылает клиенту сегмент с номером последовательности и флагами SYN и ACK, и переходит в состояние SYN-RECEIVED;
​В случае неудачи сервер посылает клиенту сегмент с флагом RST.
2. Если клиент получает сегмент с флагом SYN, то он запоминает номер последовательности и посылает сегмент с флагом ACK.
Дальнейший алгоритм:
Если он одновременно получает и флаг ACK (что обычно и происходит), то он переходит в состояние ESTABLISHED;
Если клиент получает сегмент с флагом RST, то он прекращает попытки соединиться;
Если клиент не получает ответа в течение 10 секунд, то он повторяет процесс соединения заново.

3. Если сервер в состоянии SYN-RECEIVED получает сегмент с флагом ACK, то он переходит в состояние ESTABLISHED.
В противном случае после тайм-аута он закрывает сокет и переходит в состояние CLOSED.
Процесс называется «трёхэтапным рукопожатием» (англ. three way handshake), так как несмотря на то что возможен процесс установления соединения с использованием четырёх сегментов (SYN в сторону сервера, ACK в сторону клиента, SYN в сторону клиента, ACK в сторону сервера), на практике для экономии времени используется три сегмента.

</details>



<details>
  <summary>Как происходит HTTPS соединение?</summary>

Когда вы вводите адрес сайта в браузере, он спрашивает у сервера, установлен ли для сайта сертификат. В ответ сервер отправляет общую информацию об SSL-сертификате и публичный ключ, то есть сам сертификат. Браузер сверяет информацию со списком авторизованных центров сертификации. Если всё в порядке, браузер генерирует сеансовый ключ, зашифровывает его публичным ключом и отправляет на сервер. Сервер расшифровывает сообщение и сохраняет сеансовый ключ. После этого между браузером и сайтом устанавливается безопасное соединение через протокол HTTPS.

![https-process](imgs/https.png)

</details>


<details>
<summary>Что такое basic auth? </summary>
  
Basic Auth (Базовая авторизация) - это простой протокол аутентификации, используемый в HTTP-аутентификации для предоставления имени пользователя и пароля. При использовании Basic Auth клиент (например, веб-браузер) передает имя пользователя и пароль в закодированном виде в заголовке запроса. Вот пример заголовка авторизации:

text

Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==
Здесь "QWxhZGRpbjpvcGVuIHNlc2FtZQ==" - это закодированная строка "username:password" в формате Base64.

Хотя Basic Auth является простым в использовании, он не является самым безопасным методом аутентификации из-за открытого передачи пароля в виде закодированной строки. Кроме того, Basic Auth не предоставляет широкие возможности для многофакторной аутентификации.

Из-за своих ограничений Basic Auth все реже используется в веб-разработке, и часто заменяется более безопасными методами аутентификации, такими как OAuth или JSON Web Tokens (JWT).

</b></details>



<details>
  <summary>Какие типы заголовков http бываю</summary>

Существует несколько типов заголовков в протоколе HTTP, каждый из которых выполняет разные функции. Вот некоторые из основных типов заголовков HTTP:

Заголовки запроса:

Accept: Указывает, какие типы содержимого клиент может принять.
Accept-Language: Определяет языковые предпочтения клиента для содержимого.
Authorization: Используется для отправки учетных данных для аутентификации на сервере.
Cache-Control: Управляет кешированием на промежуточных узлах.
Заголовки ответа:

Content-Type: Определяет тип содержимого, передаваемого в теле сообщения.
Content-Length: Указывает размер передаваемого содержимого в байтах.
ETag: Идентификатор сущности, который используется для определения, изменилось ли содержимое с момента предыдущего запроса.
Cache-Control: Указывает настройки кеширования для клиента и промежуточных узлов.
Общие заголовки:

Cache-Control: Управляет кешированием как в запросах, так и в ответах.
Connection: Контролирует параметры соединения между клиентом и сервером.
Date: Содержит дату и время создания сообщения.
Pragma: Использовался для управления кешированием, но считается устаревшим.
Это лишь несколько примеров различных типов заголовков HTTP, которые используются для управления и аутентификации в рамках протокола HTTP.

</details>



<details>
  <summary>Какие стандартные коды ответов есть у веб-серверов?</summary>

 - 1XX — информационные коды. Они отвечают за процесс передачи данных. Это временные коды, они информируют о том, что запрос принят и обработка будет продолжаться.
 - 2XX — успешная обработка. Запрос был получен и успешно обработан сервером.
 - 3XX — перенаправление (редирект). Эти ответы сервера гласят, что нужно предпринять дальнейшие действия для выполнения запроса. Например, сделать запрос по другому адресу.
 - 4XX — ошибка пользователя. Это значит, что запрос не может быть выполнен по его вине.
 - 5XX — ошибка сервера. Эти коды возникают из-за ошибок на стороне сервера. В данном случае пользователь всё сделал правильно, но сервер не может выполнить запрос. Для кодов этого класса сервер обязательно показывает сообщение, что не может обработать запрос и по какой причине.

</details>



<details>
  <summary>Какие существуют основные типы запросов HTTP?</summary>

Два наиболее часто используемых видов HTTP запросов это: GET и POST.

GET - запрашивает данные с определенного ресурса (сайта).
POST - отправляет данные на сервер для последующей их обработки.

Особенности GET запроса:
 - Может быть закэширован
 - Остается в истории браузера
 - Может быть закладкой в браузере
 - Не должен использоваться при работе с крайне важными данными
 - Имеет ограниченную длину
 - Должен применяться только для получения данных

Особенности POST запроса:
 - Не кэшируется
 - Не может быть закладкой в браузере
 - Не остаётся в истории браузера
 - Нет ограничений по длине запроса

| Заголовок | Описание |
|-----------|---------------------------------------------------------------------------------------------|
| HEAD | Тоже самое что GET, однако возвращает только HTTP заголовки и не возвращает тело документа. |
| DELETE | Удаляет определенный ресурс. |
| PUT | Загружает представление определенного URI. |
| OPTIONS | Возвращает список видов запросов, поддерживаемых веб-сервером. |
| CONNECT | Создает прозрачный TCP/IP туннель для передачи запросов. |

</details>



<details>
  <summary>Клиент пишет, что заходит на свой сайт и он к нему подключается через раз. Что делать, что спрашивать от клиента? </summary>

Необходимо спросить у клиента какую ошибку он наблюдает при неудачном запросе сайта, в какое время. Если проблема периодическая, то возможно проблема на стороне провайдера клиента. Необходимо запросить у клиента анализ сети с помощью утилит `traceroute`, `mtr` с того узла, где он наблюдает проблему и до сайта

</details>



<details>
  <summary>Какой транспортный протокол использует DNS? В каком случае DNS работает по UDP, а в каком по TCP?</summary>

Все реализации DNS серверов должны поддерживать использование обоих протоколов транспортного уровня (TCP и UDP). Большинство DNS-запросов будет обрабатываться с использованием протокола UDP, исключение составляют трансфер зоны (Query type AXFR) и ответы сервера, превышающие 512 байт на одно сообщение. На вопрос "зачем?" ответ простой -- чтобы не использовались для DDoS.

</details>



<details>
  <summary>Какие DNS записи бывают? Что такое DKIM, DMARC, PTR?</summary>

Основные DNS записи:

| Тип | Расшифрока | Описание |
|-|-|-|
| A | Address | Адресная запись, соответствие между именем и IP-адресом. |
| AAAA | Address v6 | Аналог A записи для IPv6 адресов. |
| CNAME | Canonical Name | Каноническое имя для псевдонима (одноуровневая переадресация) |
| MX | Mail Exchanger | Адрес почтового шлюза для домена. Состоит из двух частей — приоритета (чем число больше, тем ниже приоритет), и адреса узла. |
| NS | Authoritative name server | Адрес узла, отвечающего за доменную зону. Критически важна для функционирования самой системы доменных имён. |
| PTR | Pointer | Соответствие адреса имени — обратное соответствие для A и AAAA. |
| SOA | Start of authority | Указание на авторитетность информации, используется для указания на новую зону. |
| TXT | Text string | Запись произвольных двоичных данных, до 255 байт в размере. |
| SPF | Sender Policy Framework | Указывает серверы, которые могут отправлять почту с данного домена. |

DomainKeys Identified Mail (DKIM) — метод E-mail аутентификации, разработанный для обнаружения подделывания сообщений, пересылаемых по email. Метод дает возможность получателю проверить, что письмо действительно было отправлено с заявленного домена. DKIM упрощает борьбу с поддельными адресами отправителей, которые часто используются в фишинговых письмах и в почтовом спаме.

Domain-based Message Authentication, Reporting and Conformance (идентификация сообщений, создание отчётов и определение соответствия по доменному имени) или DMARC — это техническая спецификация, созданная группой организаций, предназначенная для снижения количества спамовых и фишинговых электронных писем, основанная на идентификации почтовых доменов отправителя на основании правил и признаков, заданных на почтовом сервере получателя.

Информация о DKIM и DMARC устанавливается в TXT записи домена.

</details>


<details>
  <summary>Что такое RoundRobin DNS как работает?</summary>

Round-robin - алгоритм распределения нагрузки распределенной вычислительной системы методом перебора и упорядочения её элементов по круговому циклу.

Round-robin DNS работает, отвечая на запросы не только одним IP-адресом, а списком из нескольких адресов серверов, предоставляющих идентичный сервис. Порядок, в котором возвращаются IP-адреса из списка, основан на алгоритме Round-robin. То есть на практике на доменное имя назначаются несколько IP адресов серверов, которые отвечают на запросы.

</details>

<details>
<summary>Какие порты используют следующие протоколы по дефолту?:

  * SSH
  * SMTP
  * HTTP
  * DNS
  * HTTPS
  * FTP
  * SFTP
</summary><br><b>

  * SSH - 22
  * SMTP - 25
  * HTTP - 80
  * DNS - 53
  * HTTPS - 443
  * FTP - 21
  * SFTP - 22
</b></details>

<details>
<summary>Что такое ICMP? Где используется?Какой порт?</summary>

ICMP не использует порт или порт 0, т.к. использует транспортный протокол

- ICMP расшифровывается как Internet Control Message Protocol. Это протокол, используемый для целей диагностики и контроля в IP-сетях. Он является частью набора интернет-протоколов, работающих на сетевом уровне.

ICMP-сообщения используются для различных целей, включая:
1. Сообщения об ошибках: ICMP-сообщения используются для сообщения об ошибках, возникающих в сети, таких как пакет, который не удалось доставить по назначению.
2. Ping: ICMP используется для отправки сообщений ping, которые используются для проверки доступности хоста или сети и для измерения времени прохождения пакетов в оба конца.
3. Обнаружение MTU пути: ICMP используется для определения максимальной единицы передачи (MTU) пути, которая является наибольшим размером пакета, который может быть передан без фрагментации.
4. Traceroute: ICMP используется утилитой traceroute для отслеживания пути, по которому пакеты проходят через сеть.
5. Обнаружение маршрутизатора: ICMP используется для обнаружения маршрутизаторов в сети.
</b></details>

<details>
<summary>Что такое TTL? Что это помогает предотвратить?</summary>
  
- TTL (время жизни) - это значение в пакете IP (интернет-протокол), которое определяет, сколько переходов или маршрутизаторов может пройти пакет, прежде чем он будет отброшен. Каждый раз, когда пакет пересылается маршрутизатором, значение TTL уменьшается на единицу. Когда значение TTL достигает нуля, пакет отбрасывается, и отправителю отправляется обратно сообщение ICMP (Internet Control Message Protocol), указывающее, что срок действия пакета истек.
- TTL используется для предотвращения неограниченной циркуляции пакетов в сети, что может вызвать перегрузку и снизить производительность сети.
- Это также помогает предотвратить попадание пакетов в циклы маршрутизации, когда пакеты непрерывно перемещаются между одним и тем же набором маршрутизаторов, никогда не достигая места назначения.
- Кроме того, TTL может использоваться для обнаружения и предотвращения атак с подменой IP-адреса, когда злоумышленник пытается выдать себя за другое устройство в сети, используя ложный или поддельный поддельный IP-адрес. Ограничивая количество переходов, которые может совершить пакет, TTL может помочь предотвратить маршрутизацию пакетов в пункты назначения, которые не являются законными.

</b></details>

<details>
<summary>Какой командой можно измерять пропускную способность client service</summary>
  
Для измерения пропускной способности клиентского сервиса можно использовать различные инструменты и команды, в зависимости от конкретной ситуации и технологий, используемых в вашей среде. Одним из распространенных способов измерения пропускной способности является использование утилиты iperf.

Для измерения пропускной способности с помощью iperf, вы можете использовать следующую команду:

text

iperf -c <адрес_сервера>
Где <адрес_сервера> - это IP-адрес или хостнейм сервера, с которым вы хотите измерить пропускную способность.

Также существуют и другие инструменты и команды для измерения пропускной способности, такие как speedtest-cli для измерения скорости интернет-соединения. Однако, для измерения пропускной способности конкретно клиентского сервиса, рекомендуется использовать инструменты, специфические для вашей среды и технологий.

</b></details>


